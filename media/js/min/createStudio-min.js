var pieces=[{filename:"media/img/square-blue.png",correct_x:100,correct_y:100},{filename:"media/img/square-yellow.png",correct_x:300,correct_y:100},{filename:"media/img/square-red.png",correct_x:500,correct_y:100},{filename:"media/img/square-blue.png",correct_x:100,correct_y:100},{filename:"media/img/square-yellow.png",correct_x:300,correct_y:100},{filename:"media/img/square-red.png",correct_x:500,correct_y:100},{filename:"media/img/square-blue.png",correct_x:100,correct_y:100},{filename:"media/img/square-yellow.png",correct_x:300,correct_y:100},{filename:"media/img/square-red.png",correct_x:500,correct_y:100}];window.addEventListener("load",function(){function e(){event.preventDefault()}for(var t,r,c,n,a,o=function(){event.preventDefault(),t=this,r=parseInt(t.style.left),c=parseInt(t.style.top),n=event.clientX,a=event.clientY},i=function(){var e=event.clientX-n,o=event.clientY-a;t&&(t.style.left=r+e+"px",t.style.top=c+o+"px")},l=function(){parseInt(t.style.left)<parseInt(t.getAttribute("data-correct-x"))+20&&parseInt(t.style.left)>parseInt(t.getAttribute("data-correct-x"))-20&&parseInt(t.style.top)<parseInt(t.getAttribute("data-correct-y"))+20&&parseInt(t.style.top)>parseInt(t.getAttribute("data-correct-y"))-20&&(console.log("match"),t.className="piece correct",t.getAttribute("data-correct-x"),t.getAttribute("data-correct-y"),t.removeEventListener("mousedown",o),t.addEventListener("mousedown",e),s()),t=null},s=function(){var e=document.querySelectorAll(".piece"),t=document.querySelectorAll(".correct");e.length==t.length&&alert("you win!")},d=pieces.length-1;d>=0;d--){var u=document.createElement("img");u.setAttribute("src",pieces[d].filename),u.setAttribute("class","piece"),u.style.left="200px",u.style.top="200px",u.setAttribute("data-correct-x",pieces[d].correct_x),u.setAttribute("data-correct-y",pieces[d].correct_y),document.body.appendChild(u),u.addEventListener("mousedown",o)}window.addEventListener("mousemove",i),window.addEventListener("mouseup",l)});